(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{8038:function(e,s,t){"use strict";var n=t(5893),a=t(4699),i=(t(7294),t(5675)),r=t(6049),c=t(8633),l=t(1163),o=t(5141),d=t(3336);s.Z=function(){var e=(0,c.kP)(),s=(0,a.Z)(e,1)[0],t=(0,l.useRouter)(),m=(0,o.v9)(d.a1);return(0,n.jsx)("header",{children:(0,n.jsxs)("div",{className:"flex items-center bg-amazon_blue p-1 flex-grow",children:[(0,n.jsx)("div",{className:"mt-2 flex items-center flex-grow sm:flex-grow-0 ml-5",children:(0,n.jsx)(i.default,{onClick:function(){return t.push("/")},src:"http://links.papareact.com/f90",width:150,height:40,className:"cursor-pointer "})}),(0,n.jsxs)("div",{className:" sm:flex hidden items-center bg-yellow-400 h-10 rounded-md flex-grow cursor-pointer mx-4 ",children:[(0,n.jsx)("input",{className:"p-2 rounded-l-md h-full w-6 flex-grow flex-shrink focus:outline-none px-4",type:"text"}),(0,n.jsx)(r.W1M,{className:"h-12 p-4 "})]}),(0,n.jsxs)("div",{className:"text-white flex items-center text-xs space-x-6 mx-6 whitespace-nowrap ",children:[(0,n.jsxs)("div",{onClick:s?c.w7:c.zB,className:"cursor-pointer link flex flex-col items-center",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)("p",{children:s?"Hello, ".concat(s.user.name):"Sign In"}),(0,n.jsx)("p",{children:s?(0,n.jsx)(i.default,{src:s.user.image,height:30,width:30,className:"rounded-full"}):(0,n.jsx)(r.lMe,{className:"h-8 text-white "})})]}),(0,n.jsx)("p",{className:"font-extrabold md:text-sm",children:"Account & Lists"})]}),(0,n.jsxs)("div",{className:"link",children:[(0,n.jsx)("p",{children:"Returns"}),(0,n.jsx)("p",{className:"font-extrabold md:text-sm",children:"& Orders"})]}),(0,n.jsxs)("div",{onClick:function(){return t.push("/checkout")},className:"link relative flex items-center",children:[(0,n.jsx)("span",{className:"absolute top-0 right-0 md:right-10 h-4 w-4 bg-yellow-400 text-center rounded-full text-black font-bold",children:m.length}),(0,n.jsx)(r.Q1y,{className:"h-10"}),(0,n.jsx)("p",{className:"hidden md:inline font-extrabold md:text-sm",children:"Basket"})]})]})]})})}},5609:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return p}});var n=t(5893),a=t(4699),i=t(5675),r=t(5141),c=t(8038),l=t(3802),o=t(5998),d=t.n(o),m=t(3336);var u=function(e){var s=(0,r.I0)(),t=e.id,a=e.title,c=e.rating,o=e.price,u=e.description,x=e.category,h=e.image,p=e.hasPrime,f=e.quantity,j=o*f;return(0,n.jsxs)("div",{className:"block py-4 sm:grid sm:grid-cols-5 my-16 sm:my-3",children:[(0,n.jsx)("div",{className:"text-center sm:text-left",children:(0,n.jsx)(i.default,{src:h,width:200,height:200,objectFit:"contain"})}),(0,n.jsxs)("div",{className:"col-span-3 mx-5 mb-4 sm:mb-0",children:[(0,n.jsx)("p",{className:"my-3",children:a}),(0,n.jsx)("div",{className:"flex",children:Array(c).fill().map((function(e,s){return(0,n.jsx)(l.r7p,{className:"h-5 text-yellow-500"},s)}))}),(0,n.jsx)("p",{className:"text-xs my-2 line-clamp-3",children:u}),f," \xd7 ",(0,n.jsx)(d(),{quantity:o,currency:"INR"})," ="," ",(0,n.jsx)("span",{className:"font-bold",children:(0,n.jsx)(d(),{quantity:j,currency:"INR"})}),p&&(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("img",{loading:"lazy",className:"w-12",src:"https://links.papareact.com/fdw",alt:""}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:"FREE Next-day Delivery"})]})]}),(0,n.jsxs)("div",{className:"flex flex-col space-y-2 my-auto justify-self-end",children:[(0,n.jsxs)("div",{className:"flex justify-between xs:justify-start",children:[(0,n.jsx)("button",{className:"button sm:p-1",onClick:function(){s((0,m.Er)({id:t}))},children:(0,n.jsx)(l.Jll,{className:"h-5 text-black"})}),(0,n.jsxs)("div",{className:"p-2 whitespace-normal sm:p-1 sm:whitespace-nowrap",children:["Quantity: ",(0,n.jsx)("span",{className:"font-bold",children:f})]}),(0,n.jsx)("button",{className:"button sm:p-1",onClick:function(){var e={id:t,title:a,price:o,description:u,category:x,image:h,rating:c,hasPrime:p};s((0,m.H)(e))},children:(0,n.jsx)(l.pOD,{className:"h-5 text-black"})})]}),(0,n.jsx)("button",{className:"button",onClick:function(){s((0,m.r7)({id:t}))},children:"Remove from Basket"})]})]})},x=t(8633),h=t(6486);var p=function(){var e=(0,r.v9)(m.a1),s=(0,r.v9)(m.mS),t=(0,x.kP)(),l=(0,a.Z)(t,1)[0],o=Object.values((0,h.groupBy)(e,"id"));return console.log(o),console.log(o[1]),(0,n.jsxs)("div",{className:"bg-gray-100",children:[(0,n.jsx)(c.Z,{}),(0,n.jsxs)("main",{className:"lg:flex max-w-screen-2xl mx-auto",children:[(0,n.jsxs)("div",{className:"flex-grow m-5 shadow-sm",children:[(0,n.jsx)(i.default,{src:"https://links.papareact.com/ikj",width:1020,height:250,objectFit:"contain"}),(0,n.jsxs)("div",{className:"flex flex-col p-5 space-y-50 bg-white",children:[(0,n.jsx)("h1",{className:"text-3xl ".concat(e.length>0?"border-b pb-4":"pb-2"),children:0===e.length?"Your Amazon Basket is empty.":"Shopping Basket"}),o.map((function(e,s){return(0,n.jsx)("div",{timeout:500,classNames:"item",children:(0,n.jsx)(u,{id:e[0].id,title:e[0].title,rating:e[0].rating,price:e[0].price,description:e[0].description,category:e[0].category,image:e[0].image,hasPrime:e[0].hasPrime,quantity:e.length})},e[0].image)}))]})]}),(0,n.jsx)("div",{in:e.length>0,timeout:300,classNames:"disappear",unmountOnExit:!0,children:(0,n.jsxs)("div",{className:"flex flex-col bg-white p-10 shadow-md",children:[(0,n.jsxs)("h2",{className:"whitespace-nowrap",children:["Subtotal (",e.length," items):"," ",(0,n.jsx)("span",{className:"font-bold",children:(0,n.jsx)(d(),{quantity:s,currency:"INR"})})]}),(0,n.jsx)("button",{disabled:!l,className:"button mt-2 ".concat(!l&&"from-gray-300 to-gray-500 border-gray-200 text-gray-300 cursor-not-allowed hover:from-gray-300"),children:l?"Proceed to checkout":"Sign in to checkout"})]})})]})]})}},3336:function(e,s,t){"use strict";t.d(s,{H:function(){return r},Er:function(){return c},r7:function(){return l},a1:function(){return o},mS:function(){return d}});var n=t(7329),a=(0,t(7407).oM)({name:"basket",initialState:{items:[]},reducers:{hydrate:function(e,s){return s.payload},addToBasket:function(e,s){e.items=[].concat((0,n.Z)(e.items),[s.payload])},removeFromBasket:function(e,s){var t=e.items.findIndex((function(e){return e.id===s.payload.id})),a=(0,n.Z)(e.items);t>-1?a.splice(t,1):console.warn("Can't remove product (id: ".concat(s.payload.id,") as its not in the basket")),e.items=a},removeGroupedFromBasket:function(e,s){var t=e.items.filter((function(e){return e.id!==s.payload.id}));e.items=t}}}),i=a.actions,r=i.addToBasket,c=i.removeFromBasket,l=i.removeGroupedFromBasket,o=(i.hydrate,function(e){return e.basket.items}),d=function(e){return e.basket.items.reduce((function(e,s){return e+s.price}),0)};s.ZP=a.reducer},354:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return t(5609)}])}},function(e){e.O(0,[774,662,351,459,699],(function(){return s=354,e(e.s=s);var s}));var s=e.O();_N_E=s}]);